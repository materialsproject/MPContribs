# https://gist.github.com/dan-blanchard/7045057
# https://github.com/mroberge/hydrofunctions/blob/master/.travis.yml
language: python
python:
  - "2.7"
git:
  submodules: false
before_install:
  - sudo apt-get install -y apache2-dev
  - echo -e "machine github.com\n  login $CI_USER_TOKEN" >> ~/.netrc
  - git submodule update --init --recursive
install:
  - pip install --upgrade pip setuptools wheel python-coveralls
  - pip install --only-binary=numpy,scipy,pandas,Ipython,matplotlib numpy scipy pandas ipython matplotlib
  - pip install .
script:
  - nosetests --with-coverage -c .coveragerc --logging-level=INFO --cover-package=mpcontribs --cover-inclusive
after_success:
  - coveralls --config_file .coveragerc
notifications:
  email:
    on_success: change
    on_failure: always
notifications:
  slack: mpcontribs:8BEeanYMtnJ2hnRyCM6eOYPD
